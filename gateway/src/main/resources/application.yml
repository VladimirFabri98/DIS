server.port: 8081

spring.application.name: gateway

app.eureka-server: localhost

eureka:
  client:
    serviceUrl:
      defaultZone: http://${app.eureka-server}:8761/eureka/
    initialInstanceInfoReplicationIntervalSeconds: 5
    registryFetchIntervalSeconds: 5
  instance:
    leaseRenewalIntervalInSeconds: 5
    leaseExpirationDurationInSeconds: 5

spring:
  cloud:
    loadbalancer:
      ribbon:
        enabled: true

#spring.cloud.gateway.routes:
#
#- id: game-composite
#  uri: lb://game-composite
#  predicates:
#  - Path=/game-composite/**
#  
#- id: game
#  uri: lb://game
#  predicates:
#  - Path=/game/**
#  - Path=/game-post
#
#- id: eureka-api
#  uri: http://${app.eureka-server}:8761
#  predicates:
#  - Path=/eureka/api/{segment}
#  filters:
#  - SetPath=/eureka/{segment}
#
#- id: eureka-web-start
#  uri: http://${app.eureka-server}:8761
#  predicates:
#  - Path=/eureka/web
#  filters:
#  - SetPath=/
#
#- id: eureka-web-other
#  uri: http://${app.eureka-server}:8761
#  predicates:
#  - Path=/eureka/**
#
#- id: host_route_200
#  uri: http://httpstat.us
#  predicates:
#  - Host=i.feel.lucky:8080
#  - Path=/headerrouting/**
#  filters:
#  - SetPath=/200
#
## U sustini uri je endPoint na koju ce se na kraju poslati zahtev, predicate sadrzi informacije o inicijalnom zahtevu
## u ovom slucaju to ce biti im.a.teapot:8080/headerrouting/** koji ce biti transformisan u http://httpstat.us/418
#- id: host_route_418
#  uri: http://httpstat.us
#  predicates:
#  - Host=im.a.teapot:8080
#  - Path=/headerrouting/**
#  filters:
#  - SetPath=/418
#
#- id: host_route_501
#  uri: http://httpstat.us
#  predicates:
#  - Path=/headerrouting/**
#  filters:
#  - SetPath=/501

ribbon.ServerListRefreshInterval: 5000

ribbon.NFLoadBalancerPingInterval: 5

management.endpoint.health.show-details: "ALWAYS"
management.endpoints.web.exposure.include: "*"

logging:
  level:
    root: INFO
    org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator: INFO
    org.springframework.cloud.gateway: TRACE

---
spring.profiles: docker

app.eureka-server: eureka